<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
    crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/indexStyle.css">
  <link rel="stylesheet" href="/stylesheets/taskEdit.css">
  <title>Task Planner</title>
</head>
<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top" id="main-nav">
        <div class="container">
          <a href="/todos" class="navbar-brand">Tasks</a>
          <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </nav>

      <div id="todoForm"  class="container">
        <h1>Todo Register</h1>

        <form action="/todos/<%=todo.id%>?_method=PATCH" method="POST"> 
            <div class="js-form-message form-group mb-3">
                <input type="text" class="form-control" name="title" placeholder="Title" value="<%=todo.title%>" required>
            </div>
            <div class="js-form-message form-group mb-3">
                <textarea class="form-control" rows="5" name="description" placeholder="Todo's description !" 
                    data-msg="Please enter your message."
                    data-error-class="u-has-error"
                    data-success-class="u-has-success"><%=todo.description%></textarea>
            </div>
            <div class="js-form-message form-group mb-3">
                <input type="text" class="form-control" name="due" placeholder="Due Date" value = "<%=todo.due.toLocaleDateString()%>"  required>
            </div>
            <% if (todo.priority=="high"){%>
            <select class="custom-select mb-3" name="priority">
                <option >Priority</option>
                <option value="high" Selected>High</option>
                <option value="medium">Medium</option>
                <option value="low">Low</option>
            </select>
            <%}%>
            <% if (todo.priority=="medium"){%>
                <select class="custom-select mb-3" name="priority">
                <option >Priority</option>
                <option value="high" >High</option>
                <option value="medium" Selected>Medium</option>
                <option value="low">Low</option>
                </select>
                <%}%>
                <% if (todo.priority=="low"){%>
                    <select class="custom-select mb-3" name="priority">
                    <option >Priority</option>
                    <option value="high" >High</option>
                    <option value="medium">Medium</option>
                    <option value="low" Selected>Low</option>
                    </select>
                    <%}%>
            <% if (todo.status=="complete"){%>
            <div class="js-form-message form-group mb-3" >
                <label class="mr-4">
                <input type="radio" class="form-check-input" name="status" value="complete" checked>Status complete
            </label>
            <label>
                <input type="radio" class="form-check-input" name="status" value="incomplete">Status incomplete
            </label>
            </div>
            <%}%>
            <% if (todo.status=="incomplete"){%>
                <div class="js-form-message form-group mb-3" >
                <label class="mr-4">
                <input type="radio" class="form-check-input" name="status" value="complete" >Status complete
                </label>
                <label>
                <input type="radio" class="form-check-input" name="status" value="incomplete" checked>Status incomplete
                </label>
                </div>
                <%}%>
            <div class="d-flex justify-content-center mt-3">
                <button type="submit" class="btn btn-primary btn-wide transition-3d-hover">Edit Todo</button>
            </div>
        </form>

    </div>
</body>
</html>